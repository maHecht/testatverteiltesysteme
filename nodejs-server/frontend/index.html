<!DOCTYPE html>
<html>

<head>
    <title>Blackboards</title>
    <script src="https://code.jquery.com/jquery-latest.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="stylesheet/style.css">
    <script type="text/javascript" src="scripts/blackboardScript.js"></script>
</head>

<body>
    <div class="Titel">
        Blackboards
    </div>
    <p id="BlackboardContainer">
        <script type="text/javascript">
            function listBlackboards(blackboardlist){
                var container = document.getElementById("BlackboardContainer");
                while(container.firstChild){
                    container.firstChild.remove();
                }

                //blackboardlist = JSON.parse(blackboardlist);
                //Aufbau JSON
                /*
                Name
                Message
                Timestamp
                */
                var numberBoards = 0;
                for(var boards in blackboardlist.blackboards){
                    if(blackboardlist.blackboards.hasOwnProperty(boards)){
                        numberBoards++;
                    }
                }
                for(var i = 0; i < numberBoards; i++){
                    //Einf체gen Div: Blackboard
                    var blackboard = document.createElement("div");
                    blackboard.id = "blackboards" + i;
                    blackboard.className = "Blackboard";

                    //Einf체gen Div: Namen
                    var nameDiv = document.createElement("div");
                    nameDiv.className = "NameDiv";
                    var name = document.createTextNode(blackboardlist.blackboards[i].name);
                    nameDiv.appendChild(name);
                    nameDiv.onclick = function(){
                        expandDivToDetail(this.id)
                    };
                    blackboard.appendChild(nameDiv);

                    //Einf체gen Div: Vorschau Nachricht 
                    var messageDiv = document.createElement("div");
                    messageDiv.className = "MessageDiv";
                    var message = document.createTextNode(blackboardlist.blackboards[i].message);
                    messageDiv.appendChild(message);
                    blackboard.appendChild(messageDiv);

                    //Blackboard Div an Container anh채ngen
                    document.getElementById("BlackboardContainer").appendChild(blackboard);
                }
            }
            getBlackboards(listBlackboards);
        </script>
    </p>
    <div class="Add">
        <img src="Rotes_Plus.png" alt="Add Blackboard" width="40vh" height="40vh">
    </div>
</body>

</html>